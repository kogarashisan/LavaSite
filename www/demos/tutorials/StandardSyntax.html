<!DOCTYPE html>
<html lang="en">
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="http://lava-framework.com/lib/lava-master-DEV.js"></script>
	<link rel="stylesheet" href="http://lava-framework.com/www/css/widgets.css" />

	<script>
        Firestorm.onDocumentReady(function() {
			Lava.bootstrap();

			window.setInterval(function(){
				var progress_bar = Lava.view_manager.getViewById("progress_bar");
				progress_bar.set('value', (progress_bar.get('value') + 1) % 100);
				Lava.refreshViews();
			}, 200);
		});
	</script>
</head>

<body lava-app>
<x:define controller="Standard" title="ProgressBar">
	<view>
		<div x:type="view" style="width: 400px; height: 2em; border: 1px solid black; position: relative">
			<div x:type="view" x:style:width="value * 4 + 'px'" style="height:2em; background: orange; position:absolute"></div>
			<div x:type="container" style="width: 100%;text-align: center;position: absolute;color: black;font-weight: bold;padding-top:0.5em">{#> $widget.value + '%'}</div>
		</div>
	</view>
	<properties>
		{value: 0}
	</properties>
</x:define>

<x:widget extends="ProgressBar" id="progress_bar"></x:widget>
</body>

</html>