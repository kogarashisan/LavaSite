<!DOCTYPE html>
<html lang="en">
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="http://lava-framework.com/lib/lava-master-DEV.js"></script>
	<link rel="stylesheet" href="http://lava-framework.com/www/css/widgets.css" />

	<script>
		Lava.define(
		'Lava.widget.MyWidget',
		{
			Extends: 'Lava.widget.Standard',
			name: "my_widget",

			_role_handlers: {
				my_panel: '_handlePanel'
			},

			_my_panel: null,

			_handlePanel: function(view, template_arguments) {

				view.set('is_expanded', false);
				view.set('title', "Hello example");
				view.set('content', "Hello World!");

				// you can also attach listeners
				// var listener = view.on('expanded', this._onPanelExpanded, this);

				this._my_panel = view;

			}
		});

        Firestorm.onDocumentReady(function() {
			Lava.bootstrap();
		});
	</script>
</head>

<body lava-app>
	Click the panel header:
	<x:widget controller="MyWidget">
		<template>
			<collapsible-panel x:roles="$my_widget.my_panel" class="panel-info"></collapsible-panel>
		</template>
	</x:widget>
</body>

</html>