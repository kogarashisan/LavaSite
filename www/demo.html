<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<link rel="shortcut icon" href="/favicon.ico">

<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
	<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="/www/css/site.css">

<!-- cause site is also accessible via kogarashisan.github.io -->
<link rel="canonical" href="http://www.lava-framework.com/www/demo.html"/>
	<title>Demo | LiquidLava Framework</title>
	

	<script src="http://ajax.googleapis.com/ajax/libs/mootools/1.5.1/mootools-yui-compressed.js"></script>
	<script src="/www/js/site.js"></script>
	<script>
		if (window.location.href.indexOf('://kogarashisan.github.io/LiquidLava') > 0) {
			window.location.href = 'http://www.lava-framework.com/www/demo.html';
		}
		Site.pages['www/demo'] = {
	type: "widget",
	"class": "Standard",
	extender_type: "Standard",
	container: {
		type: "Element",
		tag_name: "body"
	},
	template: [
		"\r\n\r\n<div class=\"lava-page-wrapper\">\r\n\r\n\t<div class=\"lava-navbar-area\" role=\"navigation\">\r\n\t<div class=\"lava-navbar-container\">\r\n\t\t<a href=\"http://www.lava-framework.com/\" title=\"LiquidLava - Home\" class=\"lava-navbar-logo-link\"></a>\r\n\t\t<ul class=\"lava-navbar\">\r\n\t\t\t<li class=\"lava-navbar-item\"><a href=\"/index.html\" class=\"lava-navbar-item-a\">Home</a></li><li class=\"lava-navbar-item\"><a href=\"/www/demo.html\" class=\"lava-navbar-item-a lava-menu-item-active\">Demo</a></li>",
		{
			type: "widget",
			"class": "Lava.WidgetConfigExtensionGateway",
			extender_type: "Standard",
			"extends": "DropDown",
			container: {
				type: "Element",
				tag_name: "li",
				static_classes: [
					"dropdown",
					"lava-navbar-item"
				]
			},
			template: [
				{
					type: "view",
					"class": "View",
					container: {
						type: "Element",
						tag_name: "a",
						static_classes: [
							"dropdown-toggle",
							"lava-navbar-item-a"
						],
						static_properties: {href: "#"}
					},
					roles: [{
						locator_type: "Name",
						locator: "dropdown",
						name: "trigger"
					}],
					template: ["Learn <b class=\"caret\"></b>"]
				},
				"<ul class=\"lava-dropdown-menu\"><li><a href=\"/www/quick_start.html\" class=\"lava-menu-dropdown-link\">Quick start</a></li><li><a href=\"/www/doc.html#tab=tutorials\" class=\"lava-menu-dropdown-link\">Tutorials</a></li><li><a href=\"/www/doc.html#tab=reference\" class=\"lava-menu-dropdown-link\">Reference</a></li><li><a href=\"/www/doc.html#tab=api\" class=\"lava-menu-dropdown-link\">API</a></li><li><a href=\"/www/examples.html\" class=\"lava-menu-dropdown-link\">Examples</a></li></ul>"
			]
		},
		{
			type: "widget",
			"class": "Lava.WidgetConfigExtensionGateway",
			extender_type: "Standard",
			"extends": "DropDown",
			container: {
				type: "Element",
				tag_name: "li",
				static_classes: [
					"dropdown",
					"lava-navbar-item"
				]
			},
			template: [
				{
					type: "view",
					"class": "View",
					container: {
						type: "Element",
						tag_name: "a",
						static_classes: [
							"dropdown-toggle",
							"lava-navbar-item-a"
						],
						static_properties: {href: "#"}
					},
					roles: [{
						locator_type: "Name",
						locator: "dropdown",
						name: "trigger"
					}],
					template: ["Develop <b class=\"caret\"></b>"]
				},
				"<ul class=\"lava-dropdown-menu\"><li><a href=\"https://github.com/kogarashisan/LiquidLava/issues?state=open\" target=\"_blank\" class=\"lava-menu-dropdown-link\">Tasks / Issues</a></li><li><a href=\"/www/changelog.html\" class=\"lava-menu-dropdown-link\">Changelog</a></li><li><a href=\"/www/roadmap.html\" class=\"lava-menu-dropdown-link\">Roadmap</a></li><li class=\"lava-dropdown-header\">GitHub repositories</li><li><a href=\"https://github.com/kogarashisan/LiquidLava/\" target=\"_blank\" class=\"lava-menu-dropdown-link\">Core</a></li><li><a href=\"https://github.com/kogarashisan/ClassManager/\" target=\"_blank\" class=\"lava-menu-dropdown-link\">ClassManager</a></li><li><a href=\"https://github.com/kogarashisan/Firestorm/\" target=\"_blank\" class=\"lava-menu-dropdown-link\">Firestorm</a></li><li><a href=\"https://github.com/kogarashisan/LavaSite/\" target=\"_blank\" class=\"lava-menu-dropdown-link\">Site</a></li></ul>"
			]
		},
		"<li class=\"lava-navbar-item\"><a href=\"/www/widgets.html\" class=\"lava-navbar-item-a\">Widgets</a></li><li class=\"lava-navbar-item\"><a href=\"/www/about.html\" class=\"lava-navbar-item-a\">About</a></li>\r\n\t\t</ul>\r\n\t</div>\r\n</div>\r\n\r\n\t<div class=\"container\">\r\n\t\t<h1 class=\"text-center\">Demo ToDo application</h1>\r\n\t\t",
		{
			type: "widget",
			"class": "Lava.WidgetConfigExtensionGateway",
			extender_type: "Standard",
			"extends": "Tabs",
			storage: {
				tabs: [
					{
						title: ["Result"],
						content: ["<iframe src=\"/todo_app/index.html\" style=\"width: 100%; height: 550px\"></iframe>"]
					},
					{
						title: ["Template"],
						content: ["<div class=\"lava-new-code-container lava-new-code-container-primary\"><div class=\"lava-new-code-box\"><pre class=\"lava-new-code-line-numbers\">&nbsp;&nbsp;1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n10\r\n11\r\n12\r\n13\r\n14\r\n15\r\n16\r\n17\r\n18\r\n19\r\n20\r\n21\r\n22\r\n23\r\n24\r\n25\r\n26\r\n27\r\n28\r\n29\r\n30\r\n31\r\n32\r\n33\r\n34\r\n35\r\n36\r\n37\r\n38\r\n39\r\n40\r\n41\r\n42\r\n43\r\n44\r\n45\r\n46\r\n47\r\n48\r\n49\r\n50\r\n51\r\n52\r\n53\r\n54\r\n55\r\n56\r\n57\r\n58\r\n59\r\n60\r\n61\r\n62\r\n63\r\n64\r\n65\r\n66\r\n</pre><div class=\"lava-new-code-overlays\"><pre class=\"lava-new-code-content hljs xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">body</span> <span class=\"hljs-attribute\">lava-app</span>=<span class=\"hljs-value\">\"TodoApp\"</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">section</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"todoapp\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">header</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"header\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"view\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">h1</span>&gt;</span>todos<span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">h1</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">text_input</span> <span class=\"hljs-attribute\">id</span>=<span class=\"hljs-value\">\"new_todo\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:controller</span>=<span class=\"hljs-value\">\"input.AutofocusText\"</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"new-todo\"</span> <span class=\"hljs-attribute\">placeholder</span>=<span class=\"hljs-value\">\"What needs to be done?\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">text_input</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">header</span>&gt;</span>\n    {$if($todo_app.todo_list.length)}\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">section</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"main\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"view\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">checkbox</span> <span class=\"hljs-attribute\">id</span>=<span class=\"hljs-value\">\"toggle_all\"</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"toggle-all\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:roles</span>=<span class=\"hljs-value\">\"$todo_app.toggle_all_checkbox\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">checkbox</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">label</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"view\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:roles</span>=<span class=\"hljs-value\">\"#toggle_all.label\"</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"toggle-all-label\"</span>&gt;</span>Mark all as complete<span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">label</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">ul</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"container\"</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"todo-list\"</span>&gt;</span>\n          {#foreach($todo_app.filtered_list) as=item}\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">x:refresher</span>&gt;</span>{type: 'Standard'}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">x:refresher</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">li</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"container\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:classes</span>=<span class=\"hljs-value\">\"item.is_completed ? 'completed' : ''; (item == $todo_app.edited_item) ? 'editing' : ''\"</span>&gt;</span>\n              {#if(item != $todo_app.edited_item)}\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">div</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"view\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"view\"</span>&gt;</span>\n                  <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">checkbox</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"toggle\"</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">x:bind</span> <span class=\"hljs-attribute\">name</span>=<span class=\"hljs-value\">\"is_checked\"</span>&gt;</span>item.is_completed<span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">x:bind</span>&gt;</span>\n                  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">checkbox</span>&gt;</span>\n                  <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">label</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"container\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:event:dblclick</span>=<span class=\"hljs-value\">\"$todo_app.item_double_click(item)\"</span>&gt;</span>{#&gt; item.title}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">label</span>&gt;</span>\n                  <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">button</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"destroy\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"view\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:event:click</span>=<span class=\"hljs-value\">\"$todo_app.delete_item_click(item)\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">button</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">div</span>&gt;</span>\n              {else}\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">text_input</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:controller</span>=<span class=\"hljs-value\">\"input.AutofocusText\"</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"edit\"</span>&gt;</span>\n                  <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">x:bind</span> <span class=\"hljs-attribute\">name</span>=<span class=\"hljs-value\">\"value\"</span>&gt;</span>$todo_app.edited_item_text<span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">x:bind</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">text_input</span>&gt;</span>\n              {/if}\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">li</span>&gt;</span>\n          {/foreach}\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">ul</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">section</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">footer</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"footer\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">span</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"todo-count\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"view\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">strong</span>&gt;</span>{#&gt; $todo_app.remaining_count}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">strong</span>&gt;</span> item{#&gt; $todo_app.remaining_count != 1 ? 's' : ''} left\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">span</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">ul</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"filters\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"container\"</span>&gt;</span>\n          {#foreach($todo_app.filter_names) as=filter_name}\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">li</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">a</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"container\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:classes</span>=<span class=\"hljs-value\">\"filter_name == $todo_app.filter_name ? 'selected' : ''\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:bind:href</span>=<span class=\"hljs-value\">\"'#/' + filter_name\"</span>&gt;</span>\n                {#&gt; ucFirst(filter_name)}\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">a</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">li</span>&gt;</span>\n          {/foreach}\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">ul</span>&gt;</span>\n        {$if($todo_app.completed_count)}\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">x:refresher</span>&gt;</span>{type: 'Standard'}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">x:refresher</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">x:container_config</span>&gt;</span>\n            {\n              type: \"Emulated\",\n              options: {prepender: 'AfterPrevious'}\n            }\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">x:container_config</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">button</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"clear-completed\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"container\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:event:click</span>=<span class=\"hljs-value\">\"$todo_app.clear_completed_click\"</span>&gt;</span>\n            {#&gt; \"Clear completed (\" + $todo_app.completed_count + \")\"}\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">button</span>&gt;</span>\n        {/if}\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">footer</span>&gt;</span>\n    {/if}\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">section</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">footer</span> <span class=\"hljs-attribute\">class</span>=<span class=\"hljs-value\">\"info\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">p</span>&gt;</span>Double-click to edit a todo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">p</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">p</span>&gt;</span>Created by <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">a</span> <span class=\"hljs-attribute\">href</span>=<span class=\"hljs-value\">\"http://lava-framework.com/\"</span>&gt;</span>Alex Galashov<span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">a</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">p</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">p</span>&gt;</span>Part of <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">a</span> <span class=\"hljs-attribute\">href</span>=<span class=\"hljs-value\">\"http://todomvc.com\"</span>&gt;</span>TodoMVC<span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">a</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">p</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">footer</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">script</span> <span class=\"hljs-attribute\">src</span>=<span class=\"hljs-value\">\"node_modules/todomvc-common/base.js\"</span>&gt;</span><span class=\"javascript\"></span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">script</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">body</span>&gt;</span></pre></div></div></div>"]
					},
					{
						title: ["TodoApp.class.js"],
						content: ["<div class=\"lava-new-code-container lava-new-code-container-primary\"><div class=\"lava-new-code-box\"><pre class=\"lava-new-code-line-numbers\">&nbsp;&nbsp;1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n10\r\n11\r\n12\r\n13\r\n14\r\n15\r\n16\r\n17\r\n18\r\n19\r\n20\r\n21\r\n22\r\n23\r\n24\r\n25\r\n26\r\n27\r\n28\r\n29\r\n30\r\n31\r\n32\r\n33\r\n34\r\n35\r\n36\r\n37\r\n38\r\n39\r\n40\r\n41\r\n42\r\n43\r\n44\r\n45\r\n46\r\n47\r\n48\r\n49\r\n50\r\n51\r\n52\r\n53\r\n54\r\n55\r\n56\r\n57\r\n58\r\n59\r\n60\r\n61\r\n62\r\n63\r\n64\r\n65\r\n66\r\n67\r\n68\r\n69\r\n70\r\n71\r\n72\r\n73\r\n74\r\n75\r\n76\r\n77\r\n78\r\n79\r\n80\r\n81\r\n82\r\n83\r\n84\r\n85\r\n86\r\n87\r\n88\r\n89\r\n90\r\n91\r\n92\r\n93\r\n94\r\n95\r\n96\r\n97\r\n98\r\n99\r\n100\r\n101\r\n102\r\n103\r\n104\r\n105\r\n106\r\n107\r\n108\r\n109\r\n110\r\n111\r\n112\r\n113\r\n114\r\n115\r\n116\r\n117\r\n118\r\n119\r\n120\r\n121\r\n122\r\n123\r\n124\r\n125\r\n126\r\n127\r\n128\r\n129\r\n130\r\n131\r\n132\r\n133\r\n134\r\n135\r\n136\r\n137\r\n138\r\n139\r\n140\r\n141\r\n142\r\n143\r\n144\r\n145\r\n146\r\n147\r\n148\r\n149\r\n150\r\n151\r\n152\r\n153\r\n154\r\n155\r\n156\r\n157\r\n158\r\n159\r\n160\r\n161\r\n162\r\n163\r\n164\r\n165\r\n166\r\n167\r\n168\r\n169\r\n170\r\n171\r\n172\r\n173\r\n174\r\n175\r\n176\r\n177\r\n178\r\n179\r\n180\r\n181\r\n182\r\n183\r\n184\r\n185\r\n186\r\n187\r\n188\r\n189\r\n190\r\n191\r\n192\r\n193\r\n194\r\n195\r\n196\r\n197\r\n198\r\n199\r\n200\r\n201\r\n202\r\n203\r\n204\r\n205\r\n206\r\n207\r\n208\r\n209\r\n210\r\n211\r\n212\r\n213\r\n214\r\n215\r\n216\r\n217\r\n218\r\n219\r\n220\r\n221\r\n222\r\n223\r\n224\r\n225\r\n226\r\n</pre><div class=\"lava-new-code-overlays\"><pre class=\"lava-new-code-content hljs javascript\">Lava.define(\n<span class=\"hljs-string\">'Lava.widget.TodoApp'</span>,\n{\n    Extends: <span class=\"hljs-string\">'Lava.widget.Standard'</span>,\n    name: <span class=\"hljs-string\">'todo_app'</span>,\n\n    _properties: {\n        <span class=\"hljs-comment\">/** @type {Lava.system.Enumerable} */</span>\n        todo_list: <span class=\"hljs-literal\">null</span>,\n        <span class=\"hljs-comment\">/** @type {Lava.system.DataView}*/</span>\n        filtered_list: <span class=\"hljs-literal\">null</span>,\n        edited_item: <span class=\"hljs-literal\">null</span>,\n        edited_item_text: <span class=\"hljs-string\">''</span>,\n        completed_count: <span class=\"hljs-number\">0</span>,\n        remaining_count: <span class=\"hljs-number\">0</span>,\n        filter_name: <span class=\"hljs-string\">'all'</span>,\n        filter_names: [<span class=\"hljs-string\">'all'</span>,<span class=\"hljs-string\">'active'</span>,<span class=\"hljs-string\">'completed'</span>]\n    },\n\n    _event_handlers: {\n        delete_item_click: <span class=\"hljs-string\">'_deleteItemClick'</span>,\n        item_double_click: <span class=\"hljs-string\">'_itemDoubleClick'</span>,\n        clear_completed_click: <span class=\"hljs-string\">'_clearCompletedClick'</span>\n    },\n\n    _role_handlers: {\n        toggle_all_checkbox: <span class=\"hljs-string\">'_handleToggleAllCheckbox'</span>\n    },\n\n    _toggle_all_checkbox: <span class=\"hljs-literal\">null</span>,\n\n    STORAGE_ITEM_NAME: <span class=\"hljs-string\">'todos-liquidlava'</span>,\n\n    init: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">(config, widget, parent_view, template, properties)</span> {</span>\n\n        <span class=\"hljs-keyword\">var</span> self = <span class=\"hljs-keyword\">this</span>;\n\n        <span class=\"hljs-keyword\">this</span>._properties.todo_list = <span class=\"hljs-keyword\">new</span> Lava.system.Enumerable();\n        <span class=\"hljs-keyword\">this</span>._loadItemsFromStorage();\n        <span class=\"hljs-keyword\">this</span>._properties.filtered_list = <span class=\"hljs-keyword\">new</span> Lava.system.DataView(<span class=\"hljs-keyword\">this</span>._properties.todo_list);\n        <span class=\"hljs-keyword\">this</span>.Standard$init(config, widget, parent_view, template, properties);\n\n        Lava.focus_manager.on(<span class=\"hljs-string\">'focus_target_changed'</span>, <span class=\"hljs-keyword\">this</span>._onFocusTargetChanged, <span class=\"hljs-keyword\">this</span>);\n        Lava.Core.addGlobalHandler(<span class=\"hljs-string\">'keydown'</span>, <span class=\"hljs-keyword\">this</span>._onKeyDown, <span class=\"hljs-keyword\">this</span>);\n\n        <span class=\"hljs-keyword\">new</span> Router({\n            <span class=\"hljs-string\">'/:filter'</span>: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-params\">(filter_name)</span> {</span>\n                <span class=\"hljs-keyword\">if</span> (self.get(<span class=\"hljs-string\">'filter_names'</span>).indexOf(filter_name) == -<span class=\"hljs-number\">1</span>) {\n                    filter_name = <span class=\"hljs-string\">'all'</span>;\n                }\n                self.set(<span class=\"hljs-string\">'filter_name'</span>, filter_name);\n                self._refreshData();\n                Lava.refreshViews();\n            }\n        }).init(<span class=\"hljs-string\">'/all'</span>);\n\n    },\n\n    _loadItemsFromStorage: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">()</span> {</span>\n\n        <span class=\"hljs-keyword\">var</span> data = localStorage.getItem(<span class=\"hljs-keyword\">this</span>.STORAGE_ITEM_NAME);\n        <span class=\"hljs-keyword\">var</span> items = (data &amp;&amp; <span class=\"hljs-built_in\">JSON</span>.parse(data)) || [];\n        <span class=\"hljs-keyword\">var</span> self = <span class=\"hljs-keyword\">this</span>;\n\n        items.forEach(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-params\">(item)</span> {</span>\n            self._addItem(item);\n        });\n\n    },\n\n    _onFocusTargetChanged: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">(focus_manager, focus_target)</span> {</span>\n\n        <span class=\"hljs-keyword\">if</span> (!focus_target || focus_target == Lava.view_manager.getViewById(<span class=\"hljs-string\">'new_todo'</span>)) {\n            <span class=\"hljs-keyword\">this</span>._finishEdit();\n        }\n\n    },\n\n    _clearCompletedClick: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">()</span> {</span>\n\n        <span class=\"hljs-keyword\">this</span>._properties.todo_list.filter(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-params\">(value)</span> {</span>\n            <span class=\"hljs-keyword\">return</span> !value.get(<span class=\"hljs-string\">'is_completed'</span>);\n        });\n        <span class=\"hljs-keyword\">this</span>._refreshData();\n\n    },\n\n    _refreshData: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">()</span> {</span>\n\n        <span class=\"hljs-keyword\">var</span> values = <span class=\"hljs-keyword\">this</span>._properties.todo_list.getValues();\n        <span class=\"hljs-keyword\">var</span> completed_count = <span class=\"hljs-number\">0</span>;\n        <span class=\"hljs-keyword\">var</span> export_items = [];\n        <span class=\"hljs-keyword\">var</span> completed_state;\n\n        values.forEach(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-params\">(value)</span> {</span>\n            <span class=\"hljs-keyword\">if</span> (value.get(<span class=\"hljs-string\">'is_completed'</span>)) {\n                completed_count++;\n            }\n            export_items.push(value.getProperties());\n        });\n\n        <span class=\"hljs-keyword\">this</span>.set(<span class=\"hljs-string\">'completed_count'</span>, completed_count);\n        <span class=\"hljs-keyword\">this</span>.set(<span class=\"hljs-string\">'remaining_count'</span>, values.length - completed_count);\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">this</span>._toggle_all_checkbox) {\n            <span class=\"hljs-keyword\">this</span>._toggle_all_checkbox.set(<span class=\"hljs-string\">'is_checked'</span>, <span class=\"hljs-keyword\">this</span>._properties.remaining_count === <span class=\"hljs-number\">0</span>);\n        }\n\n        <span class=\"hljs-keyword\">this</span>._properties.filtered_list.refresh();\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">this</span>._properties.filter_name != <span class=\"hljs-string\">'all'</span>) {\n            completed_state = (<span class=\"hljs-keyword\">this</span>._properties.filter_name == <span class=\"hljs-string\">'completed'</span>);\n            <span class=\"hljs-keyword\">this</span>._properties.filtered_list.filter(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-params\">(value)</span> {</span>\n                <span class=\"hljs-keyword\">return</span> value.get(<span class=\"hljs-string\">'is_completed'</span>) == completed_state;\n            });\n        }\n\n        localStorage.setItem(<span class=\"hljs-keyword\">this</span>.STORAGE_ITEM_NAME, <span class=\"hljs-built_in\">JSON</span>.stringify(export_items));\n\n    },\n\n    _deleteItemClick: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">(dom_event_name, dom_event, view, template_arguments)</span> {</span>\n\n        <span class=\"hljs-keyword\">this</span>._properties.todo_list.removeValue(template_arguments[<span class=\"hljs-number\">0</span>]);\n        <span class=\"hljs-keyword\">this</span>._refreshData();\n\n    },\n\n    _itemDoubleClick: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">(dom_event_name, dom_event, view, template_arguments)</span> {</span>\n\n        <span class=\"hljs-keyword\">var</span> edited_item = template_arguments[<span class=\"hljs-number\">0</span>];\n        <span class=\"hljs-keyword\">this</span>.set(<span class=\"hljs-string\">'edited_item_text'</span>, edited_item.get(<span class=\"hljs-string\">'title'</span>));\n        <span class=\"hljs-keyword\">this</span>.set(<span class=\"hljs-string\">'edited_item'</span>, edited_item);\n\n    },\n\n    _onTaskCompletedChanged: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">()</span> {</span>\n\n        <span class=\"hljs-keyword\">this</span>._refreshData();\n\n    },\n\n    _addItem: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">(item_object)</span> {</span>\n\n        <span class=\"hljs-keyword\">var</span> item = <span class=\"hljs-keyword\">new</span> Lava.mixin.Properties(item_object);\n        item.onPropertyChanged(<span class=\"hljs-string\">'is_completed'</span>, <span class=\"hljs-keyword\">this</span>._onTaskCompletedChanged, <span class=\"hljs-keyword\">this</span>);\n        <span class=\"hljs-keyword\">this</span>._properties.todo_list.push(item);\n\n    },\n\n    _onKeyDown: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">(dom_event_name, dom_event)</span> {</span>\n\n        <span class=\"hljs-keyword\">var</span> new_todo_input;\n        <span class=\"hljs-keyword\">var</span> focus_target_widget;\n\n        <span class=\"hljs-keyword\">if</span> (dom_event.code == Firestorm.KEY_CODES.ENTER) {\n\n            new_todo_input = Lava.view_manager.getViewById(<span class=\"hljs-string\">'new_todo'</span>);\n            focus_target_widget = Lava.focus_manager.getFocusedTarget();\n\n            <span class=\"hljs-keyword\">if</span> (new_todo_input == focus_target_widget &amp;&amp; new_todo_input.get(<span class=\"hljs-string\">'value'</span>).trim()) {\n\n                <span class=\"hljs-keyword\">this</span>._addItem({\n                    title: new_todo_input.get(<span class=\"hljs-string\">'value'</span>).trim(),\n                    is_completed: <span class=\"hljs-literal\">false</span>\n                });\n                <span class=\"hljs-keyword\">this</span>._refreshData();\n                new_todo_input.set(<span class=\"hljs-string\">'value'</span>, <span class=\"hljs-string\">''</span>);\n\n            } <span class=\"hljs-keyword\">else</span> {\n\n                <span class=\"hljs-keyword\">this</span>._finishEdit();\n\n            }\n\n        } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (dom_event.code == Firestorm.KEY_CODES.ESCAPE) {\n\n            <span class=\"hljs-keyword\">this</span>.set(<span class=\"hljs-string\">'edited_item'</span>, <span class=\"hljs-literal\">null</span>);\n\n        }\n\n    },\n\n    _handleToggleAllCheckbox: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">(view)</span> {</span>\n\n        <span class=\"hljs-keyword\">this</span>._toggle_all_checkbox = view;\n        view.set(<span class=\"hljs-string\">'is_checked'</span>, <span class=\"hljs-keyword\">this</span>._properties.remaining_count === <span class=\"hljs-number\">0</span>);\n        view.on(<span class=\"hljs-string\">'checked_changed'</span>, <span class=\"hljs-keyword\">this</span>._onToggleAllChanged, <span class=\"hljs-keyword\">this</span>);\n\n    },\n\n    _onToggleAllChanged: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">()</span> {</span>\n\n        <span class=\"hljs-keyword\">var</span> new_state = <span class=\"hljs-keyword\">this</span>._toggle_all_checkbox.get(<span class=\"hljs-string\">'is_checked'</span>);\n\n        <span class=\"hljs-keyword\">this</span>._properties.todo_list.getValues().forEach(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-params\">(value)</span> {</span>\n            value.set(<span class=\"hljs-string\">'is_completed'</span>, new_state);\n        });\n\n        <span class=\"hljs-keyword\">this</span>._refreshData();\n\n    },\n\n    _finishEdit: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">()</span> {</span>\n\n        <span class=\"hljs-keyword\">var</span> edited_item = <span class=\"hljs-keyword\">this</span>._properties.edited_item;\n        <span class=\"hljs-keyword\">var</span> edited_item_text = <span class=\"hljs-keyword\">this</span>._properties.edited_item_text.trim();\n\n        <span class=\"hljs-keyword\">if</span> (edited_item) {\n\n            <span class=\"hljs-keyword\">if</span> (edited_item_text) {\n\n                edited_item.set(<span class=\"hljs-string\">'title'</span>, edited_item_text);\n\n            } <span class=\"hljs-keyword\">else</span> {\n\n                <span class=\"hljs-keyword\">this</span>._properties.todo_list.removeValue(edited_item);\n\n            }\n\n            <span class=\"hljs-keyword\">this</span>.set(<span class=\"hljs-string\">'edited_item'</span>, <span class=\"hljs-literal\">null</span>);\n            <span class=\"hljs-keyword\">this</span>._refreshData();\n\n        }\n\n    }\n\n});</pre></div></div></div>"]
					},
					{
						title: ["AutofocusText.class.js"],
						content: ["<div class=\"lava-new-code-container lava-new-code-container-primary\"><div class=\"lava-new-code-box\"><pre class=\"lava-new-code-line-numbers\">&nbsp;&nbsp;1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n10\r\n11\r\n12\r\n13\r\n14\r\n15\r\n16\r\n17\r\n18\r\n19\r\n</pre><div class=\"lava-new-code-overlays\"><pre class=\"lava-new-code-content hljs javascript\">Lava.define(\n<span class=\"hljs-string\">'Lava.widget.input.AutofocusText'</span>,\n<span class=\"hljs-comment\">/**\n * Helper widget, that focuses input element when it's in DOM.\n */</span>\n{\n    Extends: <span class=\"hljs-string\">'Lava.widget.input.Text'</span>,\n\n    broadcastInDOM: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">()</span> {</span>\n\n        <span class=\"hljs-keyword\">this</span>.Text$broadcastInDOM();\n\n        <span class=\"hljs-keyword\">var</span> element = <span class=\"hljs-keyword\">this</span>._input_container.getDOMElement();\n        element.focus();\n        <span class=\"hljs-comment\">// move cursor to the end of text</span>\n        Firestorm.Element.setProperty(element, <span class=\"hljs-string\">'value'</span>, <span class=\"hljs-keyword\">this</span>._properties.value);\n\n    }\n});</pre></div></div></div>"]
					}
				]
			}
		},
		"\r\n\t\t<i><a href=\"/todo_app/index.html\" target=\"_blank\">Open the example in new window</a></i>\r\n\t</div>\r\n\r\n\t<div class=\"lava-footer-push\"></div>\r\n</div>\r\n\r\n<footer class=\"\">\r\n\t<div class=\"lava-black-area lava-footer-black-area\">\r\n\t\t<div class=\"container\">\r\n\t\t\t",
		{
			type: "view",
			"class": "View",
			container: {
				type: "Element",
				tag_name: "a",
				static_classes: ["lava-footer-scroll-top-link"],
				static_properties: {
					href: "#",
					title: "Scroll to top of the page"
				},
				events: {
					click: [{
						locator_type: "Id",
						locator: "utility",
						name: "scroll_top"
					}]
				}
			}
		},
		"\r\n\t\t\t<div class=\"lava-footer-logo\">\r\n\t\t\t\t<div class=\"lava-footer-logo-title\">LiquidLava</div>\r\n\t\t\t\t<div class=\"lava-footer-logo-text\">When art is beautiful</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"lava-footer-copyright\">\r\n\t\t\t\t<span class=\"lava-footer-copyright-atom\">© 2015 Alex Galashov (MIT Licence).</span>\r\n\t\t\t\t<span class=\"lava-footer-copyright-atom\">All rights reserved.</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</footer>\r\n\r\n"
	],
	is_extended: true
};
		Site.bootstrap("www/demo");
	</script>
	
</head>

<body>
<!--%generator:loading_indicator%-->
</body>

</html>