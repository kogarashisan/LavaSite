{"description":"<p><i>Term &quot;target&quot; here refers to result of <a href=\"/www/doc.html#object=Lava.parsers.Common;member=parseTargets\">Common#parseTargets</a>, See <a href=\"/www/doc.html#reference=Targets\">Targets</a></i></p>\n<h1 id=\"event-dispatch-algorithm-clarification\">Event dispatch algorithm clarification</h1>\n<p>When DOM event occurs - ViewManager first builds a stack of elements from event target \n(here &quot;event target&quot; refers to the element, which triggered the event).</p>\n<div class=\"lava-new-code-container lava-new-code-container-primary\"><div class=\"lava-new-code-box\"><pre class=\"lava-new-code-line-numbers\">&nbsp;&nbsp;1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n</pre><div class=\"lava-new-code-overlays\"><pre class=\"lava-new-code-content hljs xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">body</span> <span class=\"hljs-attribute\">id</span>=<span class=\"hljs-value\">\"e14\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">div</span> <span class=\"hljs-attribute\">id</span>=<span class=\"hljs-value\">\"e16\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">ul</span> <span class=\"hljs-attribute\">id</span>=<span class=\"hljs-value\">\"e18\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">li</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">a</span> <span class=\"hljs-attribute\">id</span>=<span class=\"hljs-value\">\"e20\"</span>&gt;</span>Click me!<span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">a</span>&gt;</span>\n...</pre></div></div></div><p>When the link is clicked - ViewManager creates an array and fills it with all parent nodes of the link element,\nso in this case it will contain the following elements: &#x5b;a, li, ul, div, body&#x5d; \n(not strings, but actual DOM elements). </p>\n<p>This stack is always built from actual DOM tree, not view hierarchy. It&#39;s done this way cause view hierarchy \ndoes not always reflect the actual state of DOM elements.\nFor example: you can bootstrap &lt;body&gt; as one widget, and then <i>manually</i> insert another widget into it:</p>\n<div class=\"lava-new-code-container lava-new-code-container-primary \"><div class=\"lava-new-code-header api-code-header-blue\">Page template</div>\n<div class=\"lava-new-code-box\"><pre class=\"lava-new-code-line-numbers\">&nbsp;&nbsp;1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n</pre><div class=\"lava-new-code-overlays\"><pre class=\"lava-new-code-content hljs xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">body</span> <span class=\"hljs-attribute\">lava-app</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">x:define</span> <span class=\"hljs-attribute\">title</span>=<span class=\"hljs-value\">\"MyContent\"</span> <span class=\"hljs-attribute\">controller</span>=<span class=\"hljs-value\">\"Standard\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">view</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">ul</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"view\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">li</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">a</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"view\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:event:click</span>=<span class=\"hljs-value\">\"on_link_click\"</span>&gt;</span>Click me!<span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">a</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">li</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">ul</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">view</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">x:define</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">div</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"view\"</span> <span class=\"hljs-attribute\">id</span>=<span class=\"hljs-value\">\"main_container\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:event:click</span>=<span class=\"hljs-value\">\"on_container_click\"</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-title\">body</span>&gt;</span></pre></div></div><div class=\"lava-new-code-header api-code-header-blue\">Page loaded handler</div>\n<div class=\"lava-new-code-box\"><pre class=\"lava-new-code-line-numbers\">&nbsp;&nbsp;1\n2\n3\n</pre><div class=\"lava-new-code-overlays\"><pre class=\"lava-new-code-content hljs javascript\">Lava.bootstrap();\n<span class=\"hljs-keyword\">var</span> content_widget = Lava.createWidget(<span class=\"hljs-string\">'MyContent'</span>);\ncontent_widget.inject(Lava.view_manager.getViewById(<span class=\"hljs-string\">\"main_container\"</span>).getContainer().getDOMElement(), <span class=\"hljs-string\">'Top'</span>);</pre></div></div></div><p>Now there are two root widgets on the page, one inside another. And their hierarchy is not connected:\nparent of <code>content_widget</code> is <span class=\"api-keyword\">null</span>, but physically it&#39;s inside the body widget.</p>\n<h2 id=\"the-element-dispatch-loop\">The element dispatch loop</h2>\n<p>For each element in the stack, ViewManager checks if it belongs to a view (element has <code>id</code> attribute,\nand there is view with corresponding GUID). If element is owned by a view - \nthen ViewManager gets it&#39;s container and looks for event targets. Then each target is dispatched to corresponding \nwidgets in hierarchy.</p>\n<p>So the dispatch loop consists of two parts: when ViewManager traverses DOM element stack (let&#39;s call this an &quot;element&quot; loop),\nand when <i>targets</i> from elements are dispatched to the hierarchy.</p>\n<p>In the example above: link has bubbling <code>on_link_click</code> target on it, so it will be dispatched to all parents of the \nlink&#39;s view, then to global targets. Link has one parent - MyContent widget, which itself does not have a parent,\ncause it was inserted manually. <b>So <code>on_link_click</code> target will not reach the \n&lt;body&gt; widget, cause &lt;body&gt; widget is not parent of <code>content_widget</code></b>.</p>\n<p>After dispatching targets from the link - ViewManager continues to traverse elements in the stack, and finds the\n&lt;div id=&quot;main_container&quot;&gt;. It has <code>on_container_click</code> target, which is dispatched to the body widget and \nglobal target handlers.</p>\n<p>Element loop can not be cancelled: both <code>on_link_click</code> and <code>on_container_click</code> targets will be dispatched.\nLet&#39;s look at another example:</p>\n<div class=\"lava-new-code-container lava-new-code-container-primary\"><div class=\"lava-new-code-box\"><pre class=\"lava-new-code-line-numbers\">&nbsp;&nbsp;1\r\n2\r\n3\r\n</pre><div class=\"lava-new-code-overlays\"><pre class=\"lava-new-code-content hljs xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">div</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"view\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:event:click</span>=<span class=\"hljs-value\">\"on_div_click\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">span</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:type</span>=<span class=\"hljs-value\">\"view\"</span> <span class=\"lava-control-prefix\">x</span><span class=\"hljs-attribute\">:event:click</span>=<span class=\"hljs-value\">\"on_span_click; on_title_click\"</span>&gt;</span>\n        ...</pre></div></div></div><p>Here, all three targets will be dispatched: first <code>on_span_click</code> and <code>on_title_click</code>, then <code>on_div_click</code>.</p>\n<h2 id=\"cancelling-events\">Cancelling events</h2>\n<p>In your event handler, you can call <a href=\"/www/doc.html#class=Lava.system.ViewManager;member=cancelBubble\">ViewManager#cancelBubble</a> to cancel bubbling of the \n<b>current</b> target. As for the previous example, you can individually cancel any of the three targets:\n<code>on_span_click</code>, <code>on_title_click</code> or <code>on_div_click</code>. But if you cancel the first one - the second and the third will\nbe dispatched anyway. The same applies to cancelling of <code>on_title_click</code> and <code>on_div_click</code>: \nyou can cancel any of them individually, but after you do it - ViewManager will switch to the next target,\nand then to the next element in the stack.</p>\n<p>Note: there is no reason to call <code>cancelBubble</code> in <b>targeted</b> event handlers (when you know that event target does not bubble).</p>\n<p>The same rules apply to roles.</p>\n<p>Summary: when you call <code>cancelBubble</code> - you cancel bubbling of the <b>current</b> role or event target. \nIf Element container has multiple targets on it - then they all can be cancelled individually in their handlers,\nbut they will be dispatched anyway.</p>\n<p>See also: source code of <a href=\"/www/doc.html#class=Lava.system.ViewManager\">Lava.system.ViewManager</a>.</p>\n<h2 id=\"what-else-you-should-know\">What else you should know</h2>\n<p>When ViewManager dispatches event or role target - it calls either <a href=\"/www/doc.html#class=Lava.widget.Standard;member=handleEvent\">Standard#handleEvent</a> \nor <a href=\"/www/doc.html#class=Lava.widget.Standard;member=handleRole\">Standard#handleRole</a>, and if you need more control - then both methods can be overridden.</p>\n","events":[{"description":"<p>Each time a DOM event is received, ViewManager assembles an array from the element, which is source of the event, and all it&#39;s parents.\n&quot;EVENTNAME&quot; is replaced with actual event name, like &quot;mouseover_stack_changed&quot;.\nYou must not modify the the argument of this event, but you can slice() it.</p>\n","name":"EVENTNAME_stack_changed","type_names":["Array.&lt;HTMLElement&gt;"],"argument_description":"<p>List of elements, with the first item in array being the event source,\n and all it&#39;s parents. Readonly.</p>\n","longname":"Lava.system.ViewManager#event:EVENTNAME_stack_changed","kind":"event"}],"method_chain":[{"class_name":"Lava.system.ViewManager","descriptors":[{"name":"addGlobalEventTarget","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"callback_name","type_names":["string"]},{"name":"widget","type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]}],"param_names_string":"callback_name, widget","description":"<p>Add a widget which will globally handle bubbling events</p>\n"},{"name":"addGlobalRoleTarget","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"callback_name","type_names":["string"]},{"name":"widget","type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]}],"param_names_string":"callback_name, widget","description":"<p>Add a widget which will globally handle bubbling roles</p>\n"},{"name":"cancelBubble","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","description":"<p>Stop bubbling current event or role</p>\n"},{"name":"destroy","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","description":"<p>Free resources and make this instance unusable</p>\n"},{"name":"dispatchEvent","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"view","description":"<p>View, that owns the container, which raised the events</p>\n","type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]},{"name":"event_name","type_names":["string"]},{"name":"event_object","description":"<p>DOM event object</p>\n","type_names":["Object"]},{"name":"targets","type_names":["Array.&lt;<a href=\"/www/doc.html#object=Support;member=_cTarget\">_cTarget</a>&gt;"]}],"param_names_string":"view, event_name, event_object, targets","description":"<p>Dispatch DOM events to targets</p>\n"},{"name":"dispatchRoles","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"view","type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]},{"name":"targets","type_names":["Array.&lt;<a href=\"/www/doc.html#object=Support;member=_cTarget\">_cTarget</a>&gt;"]}],"param_names_string":"view, targets","description":"<p>Dispatch roles</p>\n"},{"name":"getInclude","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"starting_view","type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]},{"name":"config","type_names":["<a href=\"/www/doc.html#object=Support;member=_cInclude\">_cInclude</a>"]}],"param_names_string":"starting_view, config","returns":{"type_names":["<a href=\"/www/doc.html#object=Support;member=_tTemplate\">_tTemplate</a>"]},"description":"<p>Get include from widget</p>\n"},{"name":"getViewByElement","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"element","type_names":["HTMLElement"]}],"param_names_string":"element","returns":{"type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]},"description":"<p>Get the view, the container of which owns the given element</p>\n"},{"name":"getViewByGuid","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"guid","type_names":["<a href=\"/www/doc.html#object=Support;member=_tGUID\">_tGUID</a>"]}],"param_names_string":"guid","returns":{"type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]},"description":"<p>Get view by global unique identifier</p>\n"},{"name":"getViewById","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"id","type_names":["string"]}],"param_names_string":"id","returns":{"type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]},"description":"<p>Get a view with given user-defined ID</p>\n"},{"name":"getViewsByLabel","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"label","type_names":["string"]}],"param_names_string":"label","returns":{"type_names":["Array.&lt;<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>&gt;"]},"description":"<p>Filter all created views and find those with <code>label</code>. Slow!</p>\n"},{"name":"handleMouseMovement","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"event_name","type_names":["string"]},{"name":"event_object","type_names":["Object"]}],"param_names_string":"event_name, event_object","description":"<p>Algorithm for dispatching of mouseenter, mouseleave, mouseover and mouseout events to views.\nMaintains stack of elements under cursor, dispatches <a href=\"/www/doc.html#class=Lava.system.ViewManager;event=EVENTNAME_stack_changed\">EVENTNAME_stack_changed</a></p>\n"},{"name":"init","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","description":"<p>Create an instance of the class, acquire event listeners</p>\n"},{"name":"isEventRouted","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"event_name","description":"<p>Event name</p>\n","type_names":["string"]}],"param_names_string":"event_name","returns":{"type_names":["boolean"]},"description":"<p>Is event routed to views (routing starts with a call to <code>lendEvent</code>)</p>\n"},{"name":"isRefreshing","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","returns":{"type_names":["boolean"]},"description":"<p>Get <code>_is_refreshing</code></p>\n"},{"name":"lendEvent","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"event_name","type_names":["string"]}],"param_names_string":"event_name","description":"<p>Register an event consumer and start routing that event</p>\n"},{"name":"locateTarget","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"starting_widget","description":"<p>The child widget to start search</p>\n","type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]},{"name":"locator_type","type_names":["<a href=\"/www/doc.html#object=Support;member=_eViewLocatorType\">_eViewLocatorType</a>"]},{"name":"locator","description":"<p>Locator argument</p>\n","type_names":["string"]}],"param_names_string":"starting_widget, locator_type, locator","returns":{"is_nullable":true,"type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]},"description":"<p>Get a widget from hierarchy by given route</p>\n"},{"name":"onDOMEvent","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"event_name","type_names":["string"]},{"name":"event_object","type_names":["Object"]}],"param_names_string":"event_name, event_object","description":"<p>Dispatch DOM events to views</p>\n"},{"name":"refresh","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","description":"<p>View refresh cycle. Call <a href=\"/www/doc.html#class=Lava.view.Abstract;member=refresh\">Abstract#refresh</a> of all views in the queue, starting from the root views</p>\n"},{"name":"registerView","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"instance","type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]}],"param_names_string":"instance","description":"<p>Add a newly created view to local collections: <code>_views_by_guid</code> and <code>_views_by_id</code></p>\n"},{"name":"releaseEvent","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"event_name","type_names":["string"]}],"param_names_string":"event_name","description":"<p>Inform that event consumer does not need that event anymore</p>\n"},{"name":"removeGlobalEventTarget","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"callback_name","type_names":["string"]},{"name":"widget","type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]}],"param_names_string":"callback_name, widget","description":"<p>Remove a widget, added with <a href=\"/www/doc.html#class=Lava.system.ViewManager;member=addGlobalEventTarget\">ViewManager#addGlobalEventTarget</a></p>\n"},{"name":"removeGlobalRoleTarget","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"callback_name","type_names":["string"]},{"name":"widget","type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]}],"param_names_string":"callback_name, widget","description":"<p>Remove widget added with <a href=\"/www/doc.html#class=Lava.system.ViewManager;member=addGlobalRoleTarget\">ViewManager#addGlobalRoleTarget</a></p>\n"},{"name":"scheduleViewRefresh","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"view","type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]}],"param_names_string":"view","description":"<p>Place a view into queue for refresh</p>\n"},{"name":"unregisterView","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":false,"type":"function","params":[{"name":"instance","type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]}],"param_names_string":"instance","description":"<p>Remove a destroyed view from local collections</p>\n"},{"name":"_addTarget","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"function","params":[{"name":"storage","type_names":["Object"]},{"name":"name","type_names":["string"]},{"name":"widget","type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]}],"param_names_string":"storage, name, widget","description":"<p>Perform <a href=\"/www/doc.html#class=Lava.system.ViewManager;member=addGlobalEventTarget\">ViewManager#addGlobalEventTarget</a> or <a href=\"/www/doc.html#class=Lava.system.ViewManager;member=addGlobalRoleTarget\">ViewManager#addGlobalRoleTarget</a></p>\n"},{"name":"_buildElementStack","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"function","params":[{"name":"element","type_names":["HTMLElement"]}],"param_names_string":"element","returns":{"type_names":["Array.&lt;HTMLElement&gt;"]},"description":"<p>Create an array from element and all it&#39;s parents</p>\n"},{"name":"_callHandleEvent","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"function","params":[{"name":"widget","type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]},{"name":"target_name","type_names":["string"]},{"name":"view","type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]},{"name":"template_arguments","type_names":["Array.&lt;*&gt;"]},{"name":"callback_arguments","type_names":["Object"]}],"param_names_string":"widget, target_name, view, template_arguments, callback_arguments","returns":{"type_names":["boolean"]},"description":"<p>Callback for dispatching events: call the widget&#39;s event handler</p>\n"},{"name":"_callRegisterViewInRole","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"function","params":[{"name":"widget","type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]},{"name":"target_name","type_names":["string"]},{"name":"view","type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]},{"name":"template_arguments","type_names":["Array.&lt;*&gt;"]}],"param_names_string":"widget, target_name, view, template_arguments","returns":{"type_names":["boolean"]},"description":"<p>Callback for dispatching roles: call widget&#39;s role handler</p>\n"},{"name":"_dispatchCallback","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"function","params":[{"name":"view","description":"<p>The source of events or roles</p>\n","type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]},{"name":"targets","description":"<p>The target routes</p>\n","type_names":["Array.&lt;<a href=\"/www/doc.html#object=Support;member=_cTarget\">_cTarget</a>&gt;"]},{"name":"callback","description":"<p>The ViewManager callback that will perform dispatching</p>\n","type_names":["function"]},{"name":"callback_arguments","description":"<p>Will be passed to <code>callback</code></p>\n","type_names":["*"]},{"name":"global_targets_object","description":"<p>Either <a href=\"/www/doc.html#class=Lava.system.ViewManager;member=_global_role_targets\">ViewManager#_global_role_targets</a>\n or <a href=\"/www/doc.html#class=Lava.system.ViewManager;member=_global_event_targets\">ViewManager#_global_event_targets</a></p>\n","type_names":["Object.&lt;string, Array&gt;"]}],"param_names_string":"view, targets, callback, callback_arguments, global_targets_object","description":"<p>Dispatch events and roles to their targets.\nWarning! Violates codestyle with multiple return statements</p>\n"},{"name":"_dispatchViewEvent","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"function","params":[{"name":"view","type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]},{"name":"event_name","type_names":["string"]},{"name":"event_object","type_names":["Object"]}],"param_names_string":"view, event_name, event_object","description":"<p>Helper method which checks for events presence on container and dispatches them</p>\n"},{"name":"_evalTargetArguments","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"function","params":[{"name":"view","type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]},{"name":"target","type_names":["<a href=\"/www/doc.html#object=Support;member=_cTarget\">_cTarget</a>"]}],"param_names_string":"view, target","returns":{"type_names":["Array.&lt;*&gt;"]},"description":"<p>Evaluate template arguments</p>\n"},{"name":"_initEvent","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"function","params":[{"name":"event_name","type_names":["string"]}],"param_names_string":"event_name","description":"<p>Start listening to an event</p>\n"},{"name":"_locateWidgetByGuid","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"function","params":[{"name":"starting_widget","type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]},{"name":"guid","type_names":["<a href=\"/www/doc.html#object=Support;member=_tGUID\">_tGUID</a>"]}],"param_names_string":"starting_widget, guid","returns":{"type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]},"description":"<p>Get widget by GUID. Does not consider hierarchy</p>\n"},{"name":"_locateWidgetById","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"function","params":[{"name":"starting_widget","type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]},{"name":"id","type_names":["string"]}],"param_names_string":"starting_widget, id","returns":{"type_names":["<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>"]},"description":"<p>Get widget by id. Does not take hierarchy into account</p>\n"},{"name":"_locateWidgetByLabel","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"function","params":[{"name":"widget","description":"<p>Starting widget</p>\n","type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]},{"name":"label","type_names":["string"]}],"param_names_string":"widget, label","returns":{"is_nullable":true,"type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]},"description":"<p>Find first widget with given label among parents of the given widget (including widget itself)</p>\n"},{"name":"_locateWidgetByName","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"function","params":[{"name":"widget","description":"<p>Starting widget</p>\n","type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]},{"name":"name","description":"<p>Name to search for</p>\n","type_names":["string"]}],"param_names_string":"widget, name","returns":{"is_nullable":true,"type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]},"description":"<p>Find first widget with given name among parents of the given widget (including widget itself)</p>\n"},{"name":"_refreshCycle","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"function","params":[{"name":"dirty_views","type_names":["Array.&lt;Array.&lt;<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>&gt;&gt;"]}],"param_names_string":"dirty_views","description":"<p>Repeatable callback, that performs refresh of dirty views</p>\n"},{"name":"_removeTarget","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"function","params":[{"name":"storage","type_names":["Object"]},{"name":"name","type_names":["string"]},{"name":"widget","type_names":["<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>"]}],"param_names_string":"storage, name, widget","description":"<p>Remove widget, added with <a href=\"/www/doc.html#class=Lava.system.ViewManager;member=_addTarget\">ViewManager#_addTarget</a></p>\n"},{"name":"_shutdownEvent","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"function","params":[{"name":"event_name","type_names":["string"]}],"param_names_string":"event_name","description":"<p>Stop listening to an event</p>\n"}]},{"class_name":"Lava.mixin.Observable","descriptors":[{"name":"on","belongs":"Lava.mixin.Observable","defined":"Lava.mixin.Observable","is_private":false,"type":"function","is_from_mixin":true,"params":[{"name":"event_name","description":"<p>Name of the event to listen to</p>\n","type_names":["string"]},{"name":"fn","description":"<p>The callback</p>\n","type_names":["function"]},{"name":"context","description":"<p>The context for callback execution (an object, to which the callback belongs)</p>\n","type_names":["Object"]},{"name":"listener_args","description":"<p>Static listener arguments. May be usable when one callback responds to different events</p>\n","is_optional":true,"type_names":["*"]}],"param_names_string":"event_name, fn, context, listener_args","returns":{"description":"<p>Listener structure, which later may be suspended, or removed via call to <a href=\"/www/doc.html#class=Lava.mixin.Observable;member=removeListener\">Observable#removeListener</a></p>\n","type_names":["<a href=\"/www/doc.html#object=Support;member=_tListener\">_tListener</a>"]},"description":"<p>Add listener for event <code>event_name</code></p>\n","is_inherited":true},{"name":"removeListener","belongs":"Lava.mixin.Observable","defined":"Lava.mixin.Observable","is_private":false,"type":"function","is_from_mixin":true,"params":[{"name":"listener","description":"<p>Structure, which was returned by <a href=\"/www/doc.html#class=Lava.mixin.Observable;member=on\">Observable#on</a> method</p>\n","type_names":["<a href=\"/www/doc.html#object=Support;member=_tListener\">_tListener</a>"]}],"param_names_string":"listener","description":"<p>Remove the given listener object from event listeners array</p>\n","is_inherited":true},{"name":"_addListener","belongs":"Lava.mixin.Observable","defined":"Lava.mixin.Observable","is_private":true,"type":"function","is_from_mixin":true,"params":[{"name":"event_name","description":"<p>The name of event</p>\n","type_names":["string"]},{"name":"fn","description":"<p>The callback</p>\n","type_names":["function"]},{"name":"context","description":"<p>The owner of the callback</p>\n","type_names":["Object"]},{"name":"listener_args","description":"<p>Static listener arguments</p>\n","type_names":["*"]},{"name":"listeners_by_event","description":"<p><a href=\"/www/doc.html#class=Lava.mixin.Observable;member=_listeners\">Observable#_listeners</a> or <a href=\"/www/doc.html#class=Lava.mixin.Properties;member=_property_listeners\">Properties#_property_listeners</a></p>\n","type_names":["Object.&lt;string, Array.&lt;<a href=\"/www/doc.html#object=Support;member=_tListener\">_tListener</a>&gt;&gt;"]}],"param_names_string":"event_name, fn, context, listener_args, listeners_by_event","returns":{"description":"<p>Listener structure</p>\n","type_names":["<a href=\"/www/doc.html#object=Support;member=_tListener\">_tListener</a>"]},"description":"<p>Create the listener construct and push it into the listeners array for given event name</p>\n","is_inherited":true},{"name":"_callListeners","belongs":"Lava.mixin.Observable","defined":"Lava.mixin.Observable","is_private":true,"type":"function","is_from_mixin":true,"params":[{"name":"listeners","description":"<p>An array with listener structures</p>\n","type_names":["Array.&lt;<a href=\"/www/doc.html#object=Support;member=_tListener\">_tListener</a>&gt;"]},{"name":"event_args","description":"<p>Dynamic event arguments</p>\n","type_names":["*"]}],"param_names_string":"listeners, event_args","description":"<p>Perform fire - call listeners of an event</p>\n","is_inherited":true},{"name":"_fire","belongs":"Lava.mixin.Observable","defined":"Lava.mixin.Observable","is_private":true,"type":"function","is_from_mixin":true,"params":[{"name":"event_name","description":"<p>The name of event</p>\n","type_names":["string"]},{"name":"event_args","description":"<p>Dynamic event arguments. Anything, that may be needed by listener</p>\n","is_optional":true,"type_names":["*"]}],"param_names_string":"event_name, event_args","description":"<p>Fire an event</p>\n","is_inherited":true},{"name":"_hasListeners","belongs":"Lava.mixin.Observable","defined":"Lava.mixin.Observable","is_private":true,"type":"function","is_from_mixin":true,"params":[{"name":"event_name","description":"<p>The name of event</p>\n","type_names":["string"]}],"param_names_string":"event_name","returns":{"description":"<p>True, if there are listeners</p>\n","type_names":["boolean"]},"description":"<p>Does this object have any listeners for given event, including suspended instances</p>\n","is_inherited":true},{"name":"_removeListener","belongs":"Lava.mixin.Observable","defined":"Lava.mixin.Observable","is_private":true,"type":"function","is_from_mixin":true,"params":[{"name":"listener","description":"<p>Structure, which was returned by <a href=\"/www/doc.html#class=Lava.mixin.Observable;member=on\">Observable#on</a> method</p>\n","type_names":["<a href=\"/www/doc.html#object=Support;member=_tListener\">_tListener</a>"]},{"name":"listeners_by_event","description":"<p><a href=\"/www/doc.html#class=Lava.mixin.Observable;member=_listeners\">Observable#_listeners</a> or <a href=\"/www/doc.html#class=Lava.mixin.Properties;member=_property_listeners\">Properties#_property_listeners</a></p>\n","type_names":["Object.&lt;string, Array.&lt;<a href=\"/www/doc.html#object=Support;member=_tListener\">_tListener</a>&gt;&gt;"]}],"param_names_string":"listener, listeners_by_event","description":"<p>Perform removal of the listener structure</p>\n","is_inherited":true}],"is_mixin":true}],"member_chain":[{"class_name":"Lava.system.ViewManager","descriptors":[{"name":"_cancel_bubble","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"member","default_value":"<span class=\"api-keyword\">false</span>","type_names":["boolean"],"description":"<p>Whether to cancel bubbling of current event or role</p>\n"},{"name":"_dirty_views","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"member","default_value":"<span class=\"api-highlight-empty\">[ ]</span>","type_names":["Array.&lt;Array.&lt;<a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>&gt;&gt;"],"description":"<p>Views and widgets, sorted by depth level</p>\n"},{"name":"_event_usage_counters","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"member","default_value":"<span class=\"api-highlight-empty\">{ }</span>","type_names":["Object.&lt;string, number&gt;"],"description":"<p>Counters for event consumers</p>\n"},{"name":"_events_listeners","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"member","default_value":"<span class=\"api-highlight-gray\">{ ... }</span>","type_names":["Object.&lt;string, <a href=\"/www/doc.html#object=Support;member=_tListener\">_tListener</a>&gt;"],"description":"<p>Listeners from <a href=\"/www/doc.html#object=Lava.Core\">Lava.Core</a> for each DOM event</p>\n"},{"name":"_global_event_targets","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"member","default_value":"<span class=\"api-highlight-empty\">{ }</span>","type_names":["Object.&lt;string, Array.&lt;<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>&gt;&gt;"],"description":"<p>Global user-assigned handlers for unhandled events</p>\n"},{"name":"_global_role_targets","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"member","default_value":"<span class=\"api-highlight-empty\">{ }</span>","type_names":["Object.&lt;string, Array.&lt;<a href=\"/www/doc.html#class=Lava.widget.Standard\">Lava.widget.Standard</a>&gt;&gt;"],"description":"<p>Global user-assigned handlers for unhandled roles. <role_name> =&gt; [widgets_that_will_handle_it]</p>\n"},{"name":"_is_refreshing","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"member","default_value":"<span class=\"api-keyword\">false</span>","type_names":["boolean"],"description":"<p>View refresh loop is in progress</p>\n"},{"name":"_nested_dispatch_count","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"member","default_value":0,"type_names":["number"],"description":"<p>How many dispatch cycles are currently running</p>\n"},{"name":"_new_mouseover_target","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"member","default_value":"<span class=\"api-keyword\">null</span>","type_names":["HTMLElement"],"description":"<p>Used in mouse events processing algorithm</p>\n"},{"name":"_new_mouseover_view_stack","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"member","default_value":"<span class=\"api-highlight-empty\">[ ]</span>","type_names":["Array.&lt;HTMLElement&gt;"],"description":"<p>Parents of <code>_new_mouseover_target</code> (and <code>_new_mouseover_target</code> itself)</p>\n"},{"name":"_old_mouseover_target","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"member","default_value":"<span class=\"api-keyword\">null</span>","type_names":["HTMLElement"],"description":"<p>Used in mouse events processing algorithm</p>\n"},{"name":"_old_mouseover_view_stack","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"member","default_value":"<span class=\"api-highlight-empty\">[ ]</span>","type_names":["Array.&lt;HTMLElement&gt;"],"description":"<p>Parents of <code>_old_mouseover_target</code> (and <code>_old_mouseover_target</code> itself)</p>\n"},{"name":"_refresh_id","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"member","default_value":0,"type_names":["number"],"description":"<p>Number of the current refresh loop</p>\n"},{"name":"_views_by_guid","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"member","default_value":"<span class=\"api-highlight-empty\">{ }</span>","type_names":["Object.&lt;*, <a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>&gt;"],"description":"<p>Hash of all views by their GUID</p>\n"},{"name":"_views_by_id","belongs":"Lava.system.ViewManager","defined":"Lava.system.ViewManager","is_private":true,"type":"member","default_value":"<span class=\"api-highlight-empty\">{ }</span>","type_names":["Object.&lt;string, <a href=\"/www/doc.html#class=Lava.view.Abstract\">Lava.view.Abstract</a>&gt;"],"description":"<p>Hash of all views with user-defined ID</p>\n"}]},{"class_name":"Lava.mixin.Observable","descriptors":[{"name":"isObservable","belongs":"Lava.mixin.Observable","defined":"Lava.mixin.Observable","is_private":false,"type":"member","is_from_mixin":true,"default_value":"<span class=\"api-keyword\">true</span>","is_constant":true,"description":"<p>Indicates that this class is inherited from Observable and supports events</p>\n","is_inherited":true},{"name":"_listeners","belongs":"Lava.mixin.Observable","defined":"Lava.mixin.Observable","is_private":true,"type":"member","is_from_mixin":true,"default_value":"<span class=\"api-highlight-empty\">{ }</span>","type_names":["Object.&lt;string, Array.&lt;<a href=\"/www/doc.html#object=Support;member=_tListener\">_tListener</a>&gt;&gt;"],"description":"<p>The hash of listeners for each event</p>\n","is_inherited":true}],"is_mixin":true}]}