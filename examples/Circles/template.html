<x:widget extends="Example" controller="CirclesExample">
	<template>
		<div style="width:500px; height: 500px;border: 1px solid gray;position: relative;overflow: hidden;float:left" x:type="view">
			<img src="img/goods.jpg" style="position: absolute">
			{$foreach($circles_example.circles) as=circle}
				<div class="example-circle lava-unselectable" x:type="view"
					x:event:mousedown="$circles_example.circle_mouse_down(circle)"
					x:style:left="circle.x + 'px'"
					x:style:top="circle.y + 'px'"
					x:classes="(circle == selected_circle) ? 'example-circle-selected' : ''"
					x:bind:data-tooltip="circle.text">i</div>
			{/foreach}
		</div>
		<div style="float:left;padding: 1em">
			<button type="button" class="btn btn-primary" x:type="view" x:event:click="$circles_example.add">Add circle</button><br/>
			<button type="button" class="btn btn-primary" style="margin-top:0.5em" x:type="view" x:event:click="$circles_example.delete">Delete selected</button>
			<br/>
			{$if(selected_circle)}
			<div style="padding-top:0.5em">
				Selected circle:<br/>
				x: {$>selected_circle.x}<br/>
				y: {$>selected_circle.y}<br/>
				Tooltip text:<br/>
				<text_input>
					<x:bind name="value">selected_circle.text</x:bind>
				</text_input>
			</div>
			{/if}
		</div>
		<div class="clearfix"></div>
	</template>
	<default_events>['click', 'mousedown']</default_events>
</x:widget>